重温了一下玉伯的旧文[从 Vim 与 IDE 的讨论说起](https://github.com/lifesinger/lifesinger.github.com/issues/104#issuecomment-15519045), 我想到了两个词：傲慢与偏见。 一方面是所谓高手对于IDE所表现出的傲慢，另一方面是IDE拥护者对于vimer的偏见。二者我都无法认同。

## 编辑器与代码质量

> 有一个共同点是，容易发现低级问题的代码，经常是用 Vim、EditPlus 等编辑器写出来的。

我想之所以会出现这个问题，一是可能开发者之前一直从事Ruby，Perl之类其他脚本语言的开发，没有掌握好javascript语言，二是懒于学习，没有利用vim强大的语法检测插件。下面我们就来比较一下不同编辑器下的语法检测：

* **IntelliJ:** 所有的错误和警告标识在右侧以红和黄线显示, 而且代码下面还有红色的波浪线。

  ![jshint intelliJ](https://a248.e.akamai.net/camo.github.com/229ecca447f7e37c346234b6b4d488becb15e1aa/687474703a2f2f7777342e73696e61696d672e636e2f6c617267652f363833363135363267773164786d68646e623161316a2e6a7067)
  
  IntelliJ有致命的缺点就是它是捆绑jshint/jslint的，而且你只能针对一个项目进行验证配置,结果就是你在浏览项目中别人类库的时候就只能忍受右边的一片红黄道和界面上一堆的小红条,要么就干脆把它们禁掉。

* **Sublime text2:** 在下面的窗口提供错误报告。

  ![jshint sublime](/images/sublime_hint.png)
  

  Sublime有几个不同的语法检测插件，有些跟IntelliJ一样，是跟插件本身绑定在一起的，我用的这个是*JSHint*,它通过调用命令行jshint来工作，尽管你需要而外安装jshint，但是好处是你可以在home目录下配置全局配置文件`.jshintrc`,或者在目录里面配置，甚至在文件里面的注释中配置，从而将无用的警告降到零。不过问题依旧明显，一是出现问题需要鼠标点击下面去定位不方便，二是如果你想省事设置成保存时自动执行那么每次保存后都会弹出那个窗口，要再按esc复位，非常影响阅读体验。
  
* **vim:** 左侧的标识位会有箭头显示，错误区域显示错误高亮颜色。

  ![vim_jshint](/images/vim_hint.png)
  
  vim下面的syntastic插件默认不会在文件打开时进行语法检查，所以没有IntelliJ浏览代码时一大堆恼人的红线。你可以在不同的层级对jshint进行设置，因为它也是调用的jshint命令行工具。检查默认每次保存时执行，而且你也可以调用命令`:Errors`显示错误列表，不过不用担心每次保存时都要再关闭一次碍眼的窗口。你还能做很多进一步的设置，在vim下输入`:h syntastic`即可了解。

仅就代码检查的功能，哪个好用相信已经很清楚了吧。再说到软件质量，我到觉得使用哪种编辑工具关系不大，更重要的是能不能用好（针对性的设置和熟练的操作）以及最重要的开发者的**能力的积累和对待软件工程态度**。

## 因为自由，所以灵活

有人说IDE这样的软件可折腾性一点都不比vim差，这样的说法我觉得基本就是无稽之谈。确实，现代的IDE都提供了众多的设置供开发者选择，一定程度上可以满足开发者日常的需求，可是往往不能很好的满足，结果就是用户只能将就使用，抑制了开发者的创造性，举个例子：之前使用eclipse编辑项目，而项目里会混有utf8和GBK两种编码的文件，因为eclipse不会自动检测编码所以每碰到一个出现乱码的文件都要手动去菜单里面进行设置。
再比如当你想打开多个文件的时候，在vim里你可以选择命令行同时打开多文件，例如`vim **/*.css`递归打开当前目录下所有css文件（需开启bash的glob模式），或者`:e `在当前窗口打开，`:vs` 垂直分割窗口打开，`:sp`水平分割打开，`：tabe`新标签页打开，`:find`在path执行查找后打开，如果是缓冲区的文件还可以用命令加上缓冲区的编号将其以各种方式打开。如果你碰到一个文件名而且路径配置正确的话，你可以`gf`在当前窗口打开，`ctrl-w f`分割窗口打开，`ctrl-w gf`在新标签页中打开。如果你喜好树列表操作文件，可以安装[NERDTree插件](http://www.vim.org/scripts/script.php?script_id=1658)，如果你喜欢类似Mac下的Command+p进行模式匹配，可以安装[ctrlp插件](http://www.vim.org/scripts/script.php?script_id=3736)。vim里面无处不在的灵活性是IDE环境永远无法企及的。

IDE也会开放一些API供插件使用，而且像IntelliJ的插件也有比较完善的插件社区，但是这些插件无论从数量还是可用性上都无法与vim社区数以千计，经历了数年乃至数十年沉淀积累的插件相抗衡。更重要的是，因为vim完全开源，而且使用最为灵活的纯文件脚本语言viml进行配置，所以只要你想，你可以随意修改vim的源码满足你的变态需求，只要你想，你可以将任何复杂的操作绑定一个快捷键，完全避免在重复的编辑操作上面浪费时间。

## 为编辑效率而生

vim是一个编辑器，但它不仅仅是代码编辑器。你看到的这篇文章就是vim下面敲出来的，而且我日常发邮件用vim编辑(我用的是[mutt](http://www.mutt.org/),类似命令行工具还有许多), 写记录也是用的[vim-notes](http://www.vim.org/scripts/script.php?script_id=3375)插件。代码高亮、块折叠、拼写检查等等实用功能一个都不少，而且轻量快捷一致的体验可以真正让人将思考集中在内容，而不至限于不同工具所带来自以为是的编辑方式的不适。

至于效率，我不觉得快就有什么可炫耀的，一个写代码只快不好的开发者充其量也就是一个熟练工人，在代码质量越发重要的今天不会取得什么真正的成就。不过话说回来，难道有人不想更有生产效率一点吗？只有生产率提高了才能省下更多时间来思考啊！

## IDE还没那么强

IDE对于静态强类型的语言（java， C#）支持相当完备，包括智能提示、调试打包、代码重构等等，很大程度上提升了开发者的开发效率。但是我更倾向使用灵活的动态类型语言，因为其实我多数时间在读代码，而动态语言的代码少得多，理解使用和维护成本也就低的多。再者，IDE对于动态语言的帮助想当有限，做为前端开发而言，我的调试都是在浏览器中进行的，打包压缩也有特定的工具，至于版本控制工具的支持，[vim-gitgutter](http://github.com/airblade/vim-gitgutte)插件就能很好满足我的需求(能直观的看到改了哪些行)，而且我更习惯命令行操作，相比在菜单里面查找点击要快捷灵活的多。如果我需要调试或者重构我的nodejs项目，我也还是会毫不犹豫的打开Webstorm，但是开发的话暂时还是算了。

## 享受编程

我不喜欢说vim是神器，因为我喜欢的正是它的简约(指功能而不是易学)而不乏味，灵活而不臃肿。它可以满足你几乎所有的编辑需求，让你成文如飞，就算它给不了你编程所需的一切，但是这种自由流畅的编程体验是那些IDE们永远无法带给你的。
